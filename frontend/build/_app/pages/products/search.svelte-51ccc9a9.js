import{S as t,i as o,s as e,H as n,l as c,f as s,I as l,G as r,d as a,K as u,e as h,t as p,k as d,c as f,a as i,g,n as m,b as k,E as b,h as v,J as E}from"../../chunks/vendor-f871edcf.js";import{p as j}from"../../chunks/stores-42bc2d7a.js";function x(t,o,e){const n=t.slice();return n[4]=o[e],n}function P(t){return{c:r,l:r,m:r,p:r,d:r}}function q(t){let o,e=t[0],n=[];for(let c=0;c<e.length;c+=1)n[c]=y(x(t,e,c));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();o=c()},l(t){for(let o=0;o<n.length;o+=1)n[o].l(t);o=c()},m(t,e){for(let o=0;o<n.length;o+=1)n[o].m(t,e);s(t,o,e)},p(t,c){if(1&c){let s;for(e=t[0],s=0;s<e.length;s+=1){const l=x(t,e,s);n[s]?n[s].p(l,c):(n[s]=y(l),n[s].c(),n[s].m(o.parentNode,o))}for(;s<n.length;s+=1)n[s].d(1);n.length=e.length}},d(t){E(n,t),t&&a(o)}}}function y(t){let o,e,n,c,l,r,u,E,j=t[4].product+"",x=t[4].price+"";return{c(){o=h("div"),e=h("p"),n=p(j),c=d(),l=h("p"),r=p("£"),u=p(x),E=d(),this.h()},l(t){o=f(t,"DIV",{class:!0});var s=i(o);e=f(s,"P",{});var h=i(e);n=g(h,j),h.forEach(a),c=m(s),l=f(s,"P",{});var p=i(l);r=g(p,"£"),u=g(p,x),p.forEach(a),E=m(s),s.forEach(a),this.h()},h(){k(o,"class","product svelte-8zfj2s")},m(t,a){s(t,o,a),b(o,e),b(e,n),b(o,c),b(o,l),b(l,r),b(l,u),b(o,E)},p(t,o){1&o&&j!==(j=t[4].product+"")&&v(n,j),1&o&&x!==(x=t[4].price+"")&&v(u,x)},d(t){t&&a(o)}}}function I(t){let o,e;return{c(){o=h("p"),e=p("Loading results...")},l(t){o=f(t,"P",{});var n=i(o);e=g(n,"Loading results..."),n.forEach(a)},m(t,n){s(t,o,n),b(o,e)},p:r,d(t){t&&a(o)}}}function L(t){let o,e={ctx:t,current:null,token:null,hasCatch:!1,pending:I,then:q,catch:P};return n(t[1],e),{c(){o=c(),e.block.c()},l(t){o=c(),e.block.l(t)},m(t,n){s(t,o,n),e.block.m(t,e.anchor=n),e.mount=()=>o.parentNode,e.anchor=o},p(o,[n]){l(e,t=o,n)},i:r,o:r,d(t){t&&a(o),e.block.d(t),e.token=null,e=null}}}function N(t,o,e){let n;u(t,j,(t=>e(2,n=t))),console.log(n.query.get("product"));const c=n.query.get("product");let s=[];console.log(c);const l=fetch(`http://localhost:4000/api/db/search?product=${c}`).then((t=>t.json())).then((t=>{e(0,s=t),console.log(t),console.log(s)}));return[s,l]}export default class extends t{constructor(t){super(),o(this,t,N,L,e,{})}}
