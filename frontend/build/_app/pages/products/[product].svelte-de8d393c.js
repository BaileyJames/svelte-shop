import{S as t,i as r,s as e,H as a,l as c,f as s,I as n,G as o,d as l,K as h,e as p,t as i,c as u,a as f,g as d,E as g,k as m,n as E,b as v,h as k,J as x}from"../../chunks/vendor-f871edcf.js";import{p as b}from"../../chunks/stores-42bc2d7a.js";function I(t,r,e){const a=t.slice();return a[6]=r[e],a}function P(t){let r,e,a,c=t[9].message+"";return{c(){r=p("p"),e=i("Error: "),a=i(c)},l(t){r=u(t,"P",{});var s=f(r);e=d(s,"Error: "),a=d(s,c),s.forEach(l)},m(t,c){s(t,r,c),g(r,e),g(r,a)},p:o,d(t){t&&l(r)}}}function j(t){let r,e=t[0],a=[];for(let c=0;c<e.length;c+=1)a[c]=y(I(t,e,c));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();r=c()},l(t){for(let r=0;r<a.length;r+=1)a[r].l(t);r=c()},m(t,e){for(let r=0;r<a.length;r+=1)a[r].m(t,e);s(t,r,e)},p(t,c){if(1&c){let s;for(e=t[0],s=0;s<e.length;s+=1){const n=I(t,e,s);a[s]?a[s].p(n,c):(a[s]=y(n),a[s].c(),a[s].m(r.parentNode,r))}for(;s<a.length;s+=1)a[s].d(1);a.length=e.length}},d(t){x(a,t),t&&l(r)}}}function y(t){let r,e,a,c,n,o,h,x,b,I,P,j,y,D,G,H,N=t[6].product+"",V=t[6].price+"",w=t[6]["expiry date"]+"";return{c(){r=p("div"),e=p("div"),a=p("h1"),c=i(N),n=m(),o=p("p"),h=i("£"),x=i(V),b=m(),I=p("p"),P=i("Expiration date: "),j=i(w),y=m(),D=p("img"),H=m(),this.h()},l(t){r=u(t,"DIV",{class:!0});var s=f(r);e=u(s,"DIV",{class:!0});var p=f(e);a=u(p,"H1",{});var i=f(a);c=d(i,N),i.forEach(l),n=E(p),o=u(p,"P",{});var g=f(o);h=d(g,"£"),x=d(g,V),g.forEach(l),b=E(p),I=u(p,"P",{});var m=f(I);P=d(m,"Expiration date: "),j=d(m,w),m.forEach(l),y=E(p),D=u(p,"IMG",{src:!0,alt:!0}),p.forEach(l),H=E(s),s.forEach(l),this.h()},h(){D.src!==(G=t[6].images)&&v(D,"src",G),v(D,"alt","the thing"),v(e,"class","product"),v(r,"class","product-wrapper svelte-1pnt1x4")},m(t,l){s(t,r,l),g(r,e),g(e,a),g(a,c),g(e,n),g(e,o),g(o,h),g(o,x),g(e,b),g(e,I),g(I,P),g(I,j),g(e,y),g(e,D),g(r,H)},p(t,r){1&r&&N!==(N=t[6].product+"")&&k(c,N),1&r&&V!==(V=t[6].price+"")&&k(x,V),1&r&&w!==(w=t[6]["expiry date"]+"")&&k(j,w),1&r&&D.src!==(G=t[6].images)&&v(D,"src",G)},d(t){t&&l(r)}}}function D(t){let r,e;return{c(){r=p("p"),e=i("fetching...")},l(t){r=u(t,"P",{});var a=f(r);e=d(a,"fetching..."),a.forEach(l)},m(t,a){s(t,r,a),g(r,e)},p:o,d(t){t&&l(r)}}}function G(t){let r,e={ctx:t,current:null,token:null,hasCatch:!0,pending:D,then:j,catch:P,error:9};return a(t[1],e),{c(){r=c(),e.block.c()},l(t){r=c(),e.block.l(t)},m(t,a){s(t,r,a),e.block.m(t,e.anchor=a),e.mount=()=>r.parentNode,e.anchor=r},p(r,[a]){n(e,t=r,a)},i:o,o:o,d(t){t&&l(r),e.block.d(t),e.token=null,e=null}}}function H(t,r,e){let a;h(t,b,(t=>e(2,a=t)));const{slug:c}=a.params;console.log(c);let s=a.params.product,n=[];const o=fetch(`http://localhost:4000/api/db/${s}`).then((t=>t.json())).then((t=>{e(0,n=t),console.log(t)}));return[n,o]}export default class extends t{constructor(t){super(),r(this,t,H,G,e,{})}}
